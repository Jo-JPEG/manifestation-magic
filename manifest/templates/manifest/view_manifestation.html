{% extends "base.html" %}

{% block content %}

<div class="manifestation_container">
    <h1>{{ manifestation.title }}</h1>

    <div class="description_container">
        <p>{{ manifestation.description }}</p>
    </div>
    
    <p>Created on: {{ manifestation.created_on }}</p>
    <p>Last Charged: {{ manifestation.last_charged }} </p>
    {% if manifestation.is_charged %}
        <p>Charged: Yes</p>
    {% else %}
        <p>Charged: No</p>
    {% endif %}
    {% if manifestation.can_charge %}
        <p>Click to charge!</p>
        <form action="{% url 'charge_manifestation' manifestation.id %}" method="POST">
            {% csrf_token %}
            <button type="submit">Charge</button>
        </form>
    {% else %}
        <p>Cannot charge at this time</p>
        {% if manifestation.next_charge_time %}
            <p>You can recharge your manifestation again at {{ manifestation.next_charge_time }}</p>
        {% else %}
            <p>Next charge time is not available</p>
        {% endif %}
    {% endif %}
    
</div>
<a href="{% url 'edit_manifestation' manifestation.id %}">Edit Manifestation</a>
<a href="{% url 'delete_manifestation' manifestation.id %}">Delete Manifestation</a>
    
<a href="{% url 'home' %}">Back to Home</a>
{% endblock %}
